# Scribe packaged for AngularJS dependency injection

[Scribe](https://github.com/guardian/scribe) uses AMD for loading which is annoying when we don't use it for anything else and just rely on the AngularJS dependency injection.
 
Here we have prepared an AngularJS module and services with Scribe and its plugins ready to be injected by Angular, no AMD loader required.

## Usage

Add the `scribe` module dependency to your Angular app and inject the services that you need

### Available services

| Service | Version | Commit for version |
| ----- | ----- | ----- |
| Scribe (core) | 1.4.0 | 29d631f79cc3de7a171e018dffff797ed88e03e7 |
| ScribePluginBlockquoteCommand | 0.1.0 | ab443572db63f2a561a3628534d3ba4da74bfa6c |
| ScribePluginHeadingCommand | 0.1.0 | 8551e328c2e675253556aecc71044db8f45fafac |
| ScribePluginFormatterHtmlEnsureSemanticElements | 1.0.2 | bb42f5af9ec676369c79791f369d82213bf0a18d |
| ScribePluginSanitizer | 0.1.9 | c72197be45ed973d893378433c1395f9d3388eac |
| ScribePluginKeyboardShortcuts | 0.1.0 | d72b2c985dbf738caa6d3c53502ba99801beb6cb |

## Development

### Install dependencies

1. `npm install`

#### Scribe versions in package.js

Because Scribe does not dist (tag) the source files that we need for browserifying we must depend on the latest commit for that tag.

To find the commit for a tag:

1. Go to the GitHub repo of Scribe or the Scribe plugin
2. Browse the commits of the master branch
3. Find the commit with the commit message of the version you want, for example "v1.2.4"
4. Copy the full commit hash of that commit
5. Update package.json and the "Available services" section of README.md
6. Take a deep breath and calm your frustration

### Build

1. `npm run build`

### Release

1. Update the version in package.json, using [SemVer](http://semver.org/)
2. Commit your changes
3. Tag the release with the version in package.json (do not prefix the version with "v")
4. Push your commits and the tag

If Scribe or a plugin is updated in a release of this package you must increase the version at the same level that Scribe/plugins were updated. So if Scribe updated its *minor* version you must increase this package *minor* version too.
