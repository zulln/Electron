(function(){
	"use strict";

	angular.module("dx.webui.detection").factory("getVendorPrefixedCssProperty", getVendorPrefixedCssPropertyService);

	function getVendorPrefixedCssPropertyService() {
		var cached = {};
		var result = {};
		var prefixes = ["Moz", "Webkit", "O", "ms"];
		var testEl;

		// Use camelCase property names. Yes: userSelect, No: user-select
		return function getVendorPrefixedCssProperty(property, useCachedResult) {
			if (typeof useCachedResult === "undefined") {
				useCachedResult = true;
			}

			if (useCachedResult && cached[property]) {
				return result[property];
			}

			if (!testEl) {
				testEl = document.createElement("div");
			}

			if (property in testEl.style) {
				cached[property] = true;
				result[property] = property;
				return property;
			}

			var upper = property.charAt(0).toUpperCase() + property.slice(1);

			for (var len = prefixes.length; len--; ) {
				if ((prefixes[len] + upper) in testEl.style) {
					cached[property] = true;
					result[property] = prefixes[len] + upper;
					return result[property];
				}
			}

			return false;
		};
	}
}());
