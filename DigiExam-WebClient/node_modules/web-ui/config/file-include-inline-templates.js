"use strict";

var minify = require("html-minifier").minify;

module.exports = {
	filters: {
		inlineTemplate: function(content) {
			// Must at least remove all new lines.
			var minified = minify(content, {
				collapseWhitespace: true,
			});
			// Escape so it can be stored in a JS string,
			// and trim the surrounding quotes added by stringify.
			minified = JSON.stringify(minified).slice(1, -1);
			return minified;
		},
	},
};
