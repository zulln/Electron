/*eslint-env node*/
// TODO(sundqvist): Remove this file when no branches of DX Web or DX WebClient are depending on it.
module.exports = function testTaskErrorHandler(callback, isWatching) {
	return function errorHandler(exitCode) {
		if (!isWatching && exitCode > 0) {
			throw Error("Tests failed.");
		} else {
			callback(isWatching ? 0 : exitCode);
		}
	};
};
