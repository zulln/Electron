#!/bin/sh

START_TIME=`date +%s`

if [ "$EUID" = 0 ] || [ "$TRAVIS" = true ]; then
USE_SUDO=false
else
USE_SUDO=true
fi

startStep () {
	STEP="$1"
	STEP_START_TIME=`date +%s`
	echo "\n------------------------------------------------------------"
	echo "$STEP"
	echo "------------------------------------------------------------\n"
}

stepDone () {
	STEP_END_TIME=`date +%s`
	DURATION=$(($STEP_END_TIME - $STEP_START_TIME))
	echo "\nDone! $STEP took $DURATION seconds."
}

startStep "Installing SASS gem"
if [ "$USE_SUDO" = true ]
then sudo gem install sass -v 3.3.12
else gem install sass -v 3.3.12
fi
stepDone

startStep "Installing NPM dependencies"
npm install
stepDone

STEP="In total all steps"
STEP_START_TIME=${START_TIME}
echo "\n------------------------------------------------------------"
stepDone
echo "\nCommands to get you started:\n"
echo "  gulp help  - Read about which commands are available.\n"
