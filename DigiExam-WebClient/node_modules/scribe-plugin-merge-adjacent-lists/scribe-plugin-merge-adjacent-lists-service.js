(function(){
	"use strict";

	angular.module("scribe").factory("scribePluginMergeAdjacentLists", serviceFactory);

	var adjacentListsRegexp = /<\/ol><ol>|<\/ul><ul>/g;

	function formatter(html) {
		return html.replace(adjacentListsRegexp, "");
	}

	function serviceFactory() {
		return pluginFactory;
	}

	function pluginFactory() {
		// The instance doesn't need the factory scope so use the same instance all the time.
		return pluginInstance;
	}

	function pluginInstance(scribe) {
		scribe.registerHTMLFormatter("normalize", formatter);
	}

}());
